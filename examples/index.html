<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>AMR</title>
</head>

<body>
	<input type="file" name="file" id="file">
	<button type="button" id="set">Set</button>
	<button type="button" id="play">Play</button>
	<audio id="audio" controls></audio>

	<script src="../dist/amrplayer.js"></script>
	<script type="module">
		const elPlay = document.getElementById('play');
		const elSet = document.getElementById('set');
		const elFile = document.getElementById('file');
		const elAudio = document.getElementById('audio');

		const amrPlayer = new AMRPlayer();

		elSet.addEventListener('click', async function () {
			const file = elFile.files[0];
			await amrPlayer.setBlob(file);
			elAudio.src = amrPlayer.getWAV();
			amrPlayer.audio = amrPlayer.getAudio(console.log);
		});

		elPlay.addEventListener('click', function () {
			amrPlayer.audio.toggle();
		});

		console.log(amrPlayer);
	</script>
</body>

</html>